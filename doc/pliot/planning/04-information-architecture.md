# 04. 정보 구조 (Information Architecture)

## 🏗️ 전체 구조

```
따라랑 PWA - Information Architecture

Root (/)
├── 📱 교사용 인터페이스 (Teacher Interface) - PC 화면
│   ├── [P0] 대시보드 (Dashboard) - Hub
│   │   ├── 수업 시작 카드
│   │   ├── 클래스 선택 드롭다운
│   │   └── 빠른 시작 버튼
│   │
│   ├── [P0] 수업 진행 화면 (Class Session)
│   │   ├── [P0] 학생 모니터링 패널 (6인 그리드)
│   │   │   ├── 학생 1: 캐릭터 + 진행률 + 현재 운영
│   │   │   ├── 학생 2: 캐릭터 + 진행률 + 현재 운영
│   │   │   ├── 학생 3: 캐릭터 + 진행률 + 현재 운영
│   │   │   ├── 학생 4: 캐릭터 + 진행률 + 현재 운영
│   │   │   ├── 학생 5: 캐릭터 + 진행률 + 현재 운영
│   │   │   └── 학생 6: 캐릭터 + 진행률 + 현재 운영
│   │   ├── [P0] 제어 패널
│   │   │   ├── 시작/일시정지 버튼
│   │   │   ├── 다음 운영으로 스킵
│   │   │   ├── 수업 종료
│   │   │   └── 음소거/음량
│   │   ├── [P0] 침궤 프리뷰 (미니)
│   │   └── [P1] 실시간 피드백 로그
│   │
│   ├── [P0] 캘리브레이션 화면 (Calibration)
│   │   ├── 침궤 전체 뷰
│   │   ├── 6개 캐릭터 슬롯 (위치 미리보기)
│   │   ├── "손을 들어주세요" 가이드
│   │   └── 확인/재시작 버튼
│   │
│   ├── [P0] 수업 결과 화면 (Session Result)
│   │   ├── 클래스 완료 요약
│   │   ├── 학생별 성과 카드
│   │   ├── 저장/공유 버튼
│   │   └── 새 수업 시작 버튼
│   │
│   ├── [P1] 클래스 관리 (Class Management)
│   │   ├── 클래스 목록
│   │   ├── 클래스 생성/편집
│   │   │   ├── 운영 추가/제거
│   │   │   ├── 목표 횟수 설정
│   │   │   └── 순서 조정
│   │   └── 클래스 삭제
│   │
│   └── [Utility] 설정 (Settings)
│       ├── 계정 정보
│       ├── 침궤/오디오 설정
│       ├── 디스플레이 설정 (TV 연결)
│       ├── 접근성 설정
│       └── 도움말/튜토리얼
│
├── 📺 학생용 인터페이스 (Student Interface) - TV 화면
│   ├── [P0] 대기 화면 (Standby)
│   │   ├── "따라랑" 로고
│   │   └── "수업을 기다리고 있어요" 메시지
│   │
│   ├── [P0] 캘리브레이션 화면 (TV View)
│   │   ├── 6개 캐릭터 슬롯 (빈 상태)
│   │   └── "손을 들어 자리를 찾아보세요" 애니메이션
│   │
│   ├── [P0] 수업 진행 화면 (Active Session)
│   │   ├── [P0] 캐릭터 영역 (상단 80%)
│   │   │   ├── 캐릭터 1 (왼쪽) - 이름 + 횟수
│   │   │   ├── 캐릭터 2 - 이름 + 횟수
│   │   │   ├── 캐릭터 3 - 이름 + 횟수
│   │   │   ├── 캐릭터 4 - 이름 + 횟수
│   │   │   ├── 캐릭터 5 - 이름 + 횟수
│   │   │   └── 캐릭터 6 (오른쪽) - 이름 + 횟수
│   │   ├── [P0] 현재 운영 정보 (중앙 상단)
│   │   │   ├── 운영 이름 ("스쿼트")
│   │   │   ├── 운영 아이콘 (애니메이션)
│   │   │   └── 전체 진행률 바
│   │   ├── [P0] 피드백 영역 (하단 20%)
│   │   │   ├── AI 피드백 텍스트 (큰 글씨)
│   │   │   ├── 피드백 아이콘 (별/엄지)
│   │   │   └── 격려 메시지
│   │   └── [P1] 완료 축하 애니메이션 (운영 완료 시)
│   │
│   └── [P0] 수업 종료 화면 (Session End)
│       ├── "수업 끝! 잘했어요!" 메시지
│       ├── 전체 달성 현황
│       ├── 박수/별 애니메이션
│       └── 홈으로 버튼 (자동 전환)
│
└── 🌐 공통/시스템
    ├── [P0] 로딩 화면
    │   ├── 로고 + 프로그레스 바
    │   └── "AI를 준비하고 있어요"
    ├── [P0] 권한 요청 화면
    │   ├── 침궤 권한 설명
    │   └── 허용/거부 버튼
    ├── [P1] 오프라인 알림
    └── [P1] 에러 화면
```

---

## 🎯 Organization Scheme

### 주 구조: Audience-based
교사와 학생의 완전히 다른 니즈와 사용 패턴 (듀얼 스크린)

### 보조 구조
- **교사용**: Task-based ("수업 시작하기", "학생 확인하기" 등 작업 중심)
- **학생용**: Sequential (운영 시퀀스 순서대로 진행)

---

## 📐 Structure Type

### 주 구조: Hub-and-Spoke
- **적용 영역**: 교사용 대시보드
- **특징**: 모든 작업이 메인 제어판에서 시작/복귀

### 특수 경로: Sequential
- **적용 영역**: 수업 진행 플로우
- **특징**: 운영 시퀀스(스쿼트→푸쉬업→버피) 순차 진행

---

## 🧭 Navigation System

### Global Navigation (교사용)

| 항목 | 경로 | 설명 |
|------|------|------|
| 대시보드 | `/` | 메인 진입, 수업 시작 |
| 수업 진행 | `/session/teacher` | 수업 중에만 활성화 |
| 클래스 관리 | `/classes` | 클래스 생성/편집 |
| 설정 | `/settings` | 환경 설정 |

```
레이아웃:
┌─────────────────────────────────────────────────────┐
│ 🏠 따라랑                              [프로필] [설정] │ ← 헤더 (상단)
├──────────┬──────────────────────────────────────────┤
│          │                                          │
│ 📊 대시보드 │                                          │
│          │                                          │
│ 🏃 수업 진행│          [콘텐츠 영역]                  │
│          │                                          │
│ 📋 클래스  │                                          │
│          │                                          │
│ ⚙️ 설정   │                                          │
│          │                                          │
└──────────┴──────────────────────────────────────────┘
   ← 사이드바 (좌측, 240px)
```

### Local Navigation

**수업 진행 화면 (교사용)**:
- 상단 탭: 모니터링 / 피드백 로그 / 침궤 뷰
- 하단 액션 바: 시작 | 일시정지 | 다음 | 종료

**클래스 관리 화면**:
- 상단: 클래스 목록 (카드 그리드)
- 각 카드: 편집 버튼 / 삭제 버튼
- 우측 하단: 새 클래스 생성 FAB 버튼

### Utility Navigation

| 항목 | 위치 | 설명 |
|------|------|------|
| 도움말 | 상단 우측 아이콘 | 컨텍스트별 튜토리얼 |
| 설정 | 사이드바/드롭다운 | 환경 설정 |
| 프로필 | 상단 우측 | 교사 이름, 로그아웃 |
| 전체화면 | 수업 진행 시 | TV 출력 최적화 |

---

## 📊 Information Model (화면별 정보 설계)

### 화면 1: 대시보드

**Primary Goal**: 교사가 가장 먼저 보는 화면으로, 수업을 빠르게 시작하거나 이어갈 수 있게 함

**Information Hierarchy**:
```
┌─────────────────────────────────────────────────────┐
│ [Critical] 즉시 인지 필요 (상단 1/3)                │
│ • 환영 메시지: "안녕하세요, OOO 선생님"             │
│ • 주요 액션: [수업 시작하기] 대형 버튼              │
│ • 마지막 수업: 빠른 이어하기 (해당 시)              │
├─────────────────────────────────────────────────────┤
│ [Supporting] 맥락 이해용 (중단 1/3)                 │
│ • 클래스 목록 (카드 3-4개):                         │
│   - 클래스 이름                                     │
│   - 포함 운영 개수                                  │
│   - 예상 소요 시간                                  │
│   - 마지막 사용일                                   │
├─────────────────────────────────────────────────────┤
│ [Optional] 필요 시 확인 (하단 1/3)                  │
│ • 사용 가이드 링크                                  │
│ • 업데이트 소식                                     │
│ • 고객 지원 연락처                                  │
└─────────────────────────────────────────────────────┘
```

### 화면 2: 수업 진행 (교사용)

**Primary Goal**: 실시간으로 6명 학생의 운영 수행 상황을 모니터링하고 수업을 제어

**Information Hierarchy**:
```
┌─────────────────────────────────────────────────────┐
│ [Critical] 즉시 인지 필요 (상단 1/4)                │
│ • 현재 클래스명: "Class 1 - 기본 체력"              │
│ • 현재 운영: "스쿼트 5/20" (큰 글씨)                │
│ • 전체 진행률 바                                    │
├─────────────────────────────────────────────────────┤
│ [Critical] 학생 모니터링 (중앙 1/2)                 │
│ ┌────────┬────────┬────────┬────────┬────────┬─────┐│
│ │학생1   │학생2   │학생3   │학생4   │학생5   │학생6 ││
│ │캐릭터  │캐릭터  │캐릭터  │캐릭터  │캐릭터  │캐릭터││
│ │5회     │3회     │완료    │4회     │2회     │1회   ││
│ │73%     │45%     │100%    │60%     │30%     │15%   ││
│ └────────┴────────┴────────┴────────┴────────┴─────┘│
├─────────────────────────────────────────────────────┤
│ [Supporting] 제어/상태 (하단 1/4)                   │
│ • [시작] [일시정지] [다음 운영] [종료]              │
│ • 침궤 상태: 정상 ⚫                              │
│ • FPS: 25 ⚫                                      │
└─────────────────────────────────────────────────────┘
```

### 화면 3: 수업 진행 (학생용/TV)

**Primary Goal**: 학생이 자신의 캐릭터와 운영 진행 상황을 직관적으로 인지하고 동기부여 받음

**Information Hierarchy**:
```
┌─────────────────────────────────────────────────────┐
│ [Critical] 현재 운영 (상단 15%)                     │
│                                                     │
│      🏃 스쿼트                    15 / 20          │
│      ████████████████████░░░░░░ 75%                │
│                                                     │
├─────────────────────────────────────────────────────┤
│ [Critical] 캐릭터 영역 (중앙 65%)                   │
│                                                     │
│   😀      😀      😀      😀      😀      😀       │
│  철수    영희    민수    지영    현우    수진      │
│   15      12      20      14      10       8       │
│   ⚡️                                    ⭐️        │
│                                                     │
├─────────────────────────────────────────────────────┤
│ [Supporting] 피드백 (하단 20%)                      │
│                                                     │
│   ⭐️ "철수야, 자세가 좋아요!"                       │
│                                                     │
│   "영희야, 조금만 더 깊게 앉아볼까?"                │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## 🎭 역할별 접근 권한

| 역할 | 접근 가능 영역 | 제한 영역 |
|------|----------------|-----------|
| **교사** | 대시보드, 수업 진행, 캘리브레이션, 결과, 클래스 관리, 설정 | 없음 (전체 접근) |
| **학생** | 대기 화면, 수업 진행(TV), 종료 화면 | 교사용 제어 기능 접근 불가 |

---

## 🔄 Screen Flow Diagram

### 플로우 1: 첫 사용자 진입 (Onboarding)

```
[브라우저 URL 접속]
    ↓
[이전 사용 기록?]
    ↓ No          ↓ Yes
[침궤 권한 요청]    [대시보드]
    ↓
[권한 허용?]
    ↓ Yes         ↓ No
[대시보드]         [권한 필요 안내]
    ↓                   ↓
[처음 사용?]         [다시 요청]
    ↓ Yes
[온보딩 튜토리얼]
    ↓
[대시보드]
```

### 플로우 2: 핵심 작업 - 수업 시작 (Happy Path)

```
[대시보드]
    ↓
[클래스 선택]
    ↓
[수업 설정 확인]
    ↓
[학생 배치 완료?]
    ↓ Yes         ↓ No
[캘리브레이션]    [배치 가이드]
    ↓                   ↓
[매칭 확인?]         [배치 완료?]
    ↓ 성공        ↓ Yes    ↓ 재시도
[수업 시작]       ↓      [재캘리브레이션]
    ↓         [캘리브레이션]
[수업 진행 화면]
    ↓
[클래스 진행]
    ↓ 다음 운영/완료
[결과 화면]
    ↓
[저장?]
    ↓ Yes         ↓ No
[결과 저장]       [대시보드]
    ↓
[대시보드]
```

### 플로우 3: 역할 분기 (Multi-role Navigation)

```
[서비스 진입]
    ↓
[사용자 역할?]
    ↓ 교사              ↓ 학생
[교사 대시보드]        [학생 대기 화면]
    ↓                       ↓
[수업 제어]              [TV 화면 출력]
    ↓                       ↓
[TV 화면 출력] ← 동기화 → [학생 뷰 전용]
    ↓
[세션 상태 공유] ← WebSocket/BroadcastChannel
```

---

## ✅ Sitemap 검증 체크리스트

- [x] MVP 기능(P0) 모두 포함
  - [x] 실시간 다중 포즈 추적 (최대 6명)
  - [x] 캐릭터 1:1 매칭 및 시각화
  - [x] 클래스 기반 순차 운영 카운팅
  - [x] 기본 AI 피드백 (자세/격려)
  - [x] 교사 제어판
  - [x] 캘리브레이션
  - [x] 수업 결과 요약
- [x] 사용자 멘탈 모델과 일치 (교사는 제어/모니터링, 학생은 시각적 피드백)
- [x] Top-level 4개 준수 (대시보드, 수업 진행, 클래스 관리, 설정)
- [x] 각 카테고리명이 명확하고 구별 가능
- [x] 역할별 분기 명확 (교사/학생)
